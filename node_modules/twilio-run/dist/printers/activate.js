"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.printActivateResult = exports.printActivateConfig = void 0;
const common_tags_1 = require("common-tags");
const logger_1 = require("../utils/logger");
const output_1 = require("../utils/output");
const utils_1 = require("./utils");
const chalk = require("chalk");
const terminalLink = require("terminal-link");
function printActivateConfig(config, outputFormat) {
    if (outputFormat === 'json') {
        return;
    }
    const message = chalk `
    {cyan.bold Username} ${config.username}
    {cyan.bold Password} ${utils_1.redactPartOfString(config.password)}
  `;
    logger_1.logger.info(common_tags_1.stripIndent(message) + '\n');
}
exports.printActivateConfig = printActivateConfig;
function printActivateResult(result, outputFormat) {
    if (outputFormat === 'json') {
        output_1.writeJSONOutput(result);
        return;
    }
    logger_1.logger.info(chalk.cyan.bold('\nActive build available at:'));
    output_1.writeOutput(result.domain);
    const twilioConsoleLogsLink = terminalLink('Open the Twilio Console', utils_1.getTwilioConsoleDeploymentUrl(result.serviceSid, result.environmentSid), {
        fallback: (text, url) => chalk.dim(url),
    });
    logger_1.logger.info('\n' +
        common_tags_1.stripIndent(chalk `
    {cyan.bold View Live Logs:}
      ${twilioConsoleLogsLink}
  `));
}
exports.printActivateResult = printActivateResult;
